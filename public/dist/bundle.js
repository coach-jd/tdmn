(()=>{"use strict";var e=[{nombre:"1. Idea de Emprendimiento",descripcion:"Una idea sólida debe ser innovadora, viable y diferenciadora. Asegúrate de que tu producto o servicio atienda una necesidad clara del mercado y esté respaldado por validaciones estratégicas para destacar.",preguntas:[{id:1,texto:"Comprendo plenamente el problema o la necesidad que deseo solucionar o satisfacer.",respuesta:null},{id:2,texto:"Tengo claro si mi proyecto persigue un fin de lucro o un beneficio social.",respuesta:null},{id:3,texto:"Estoy asociando mi producto o servicio con una marca propia y la estoy protegiendo.",respuesta:null},{id:4,texto:"Cuento con un equipo de personas que me acompaña en el desarrollo de este proyecto.",respuesta:null},{id:5,texto:"Las personas que me acompañan le aportan valor a mi emprendimiento.",respuesta:null}],mensaje:"¡Vamos al siguiente paso y sigue construyendo tu futuro!"},{nombre:"2. Motivación para Emprender",descripcion:"El camino del emprendedor requiere pasión, resiliencia y compromiso. Alinea tu propósito personal con tu visión empresarial para mantener el enfoque, incluso en los momentos más difíciles.",preguntas:[{id:1,texto:"Este proyecto ocupa un lugar importante en mi vida.",respuesta:null},{id:2,texto:"Estoy dispuesto(a) a desarrollar las habilidades necesarias para el éxito de mi emprendimiento.",respuesta:null},{id:3,texto:"Estoy dispuesto(a) a prepararme e invertir tiempo y dinero en materializar este proyecto.",respuesta:null},{id:4,texto:"Siento que resuelvo un problema o que satisfago una necesidad importante para mis clientes.",respuesta:null},{id:5,texto:"Quiero construir una empresa que perdure en el tiempo y se convierta en mi legado.",respuesta:null}],mensaje:"¡Tu determinación es clave para avanzar! Sigue adelante."},{nombre:"3. Propuesta de Valor",descripcion:"Tu propuesta de valor debe ofrecer beneficios únicos que los clientes valoren. La claridad y diferenciación son clave para captar la atención y fidelidad de tus clientes.",preguntas:[{id:1,texto:"Poseo experiencia en el área de emprendimiento que quiero desarrollar.",respuesta:null},{id:2,texto:"Puedo exponer con claridad cómo mi propuesta de valor facilita las tareas de mis clientes.",respuesta:null},{id:3,texto:"Mi propuesta de valor genera alegrías o alivia las frustraciones de mis clientes.",respuesta:null},{id:4,texto:"He realizado un análisis comparativo de mi propuesta con los productos o servicios de la competencia.",respuesta:null},{id:5,texto:"Cuento con un elemento diferenciador bien marcado que me confiere la preferencia de mis clientes.",respuesta:null}],mensaje:"¡Vamos a seguir refinando tu propuesta para destacar en el mercado!"},{nombre:"4. Producto Mínimo Viable",descripcion:"Un Producto Mínimo Viable te permite probar tu propuesta en el mercado, ajustarla con base en retroalimentación real y minimizar riesgos antes de una inversión mayor.",preguntas:[{id:1,texto:"He identificado los atributos mínimos con los que mi producto o servicio puede salir al mercado.",respuesta:null},{id:2,texto:"He identificado los atributos que deseo incorporar a mi producto o servicio más adelante.",respuesta:null},{id:3,texto:"He construido alguna versión de mi producto o servicio para ponerla al alcance de mis clientes.",respuesta:null},{id:4,texto:"He identificado a los clientes a los que proporcionaré acceso a mi producto o servicio para obtener métricas.",respuesta:null},{id:5,texto:"He recibido feedback de mis clientes que me ha permitido mejorar mi propuesta de valor.",respuesta:null}],mensaje:"¡Es momento de avanzar y validar tu idea con clientes reales!"},{nombre:"5. Clientes Potenciales",descripcion:"Identificar a tus clientes ideales y validar su necesidad es esencial. Asegúrate de que tu propuesta resuena con sus expectativas.",preguntas:[{id:1,texto:"Existen personas interesadas en adquirir o utilizar mi producto o servicio.",respuesta:null},{id:2,texto:"Cuento con clientes que ya están pagando por mi producto o servicio.",respuesta:null},{id:3,texto:"Mis clientes comprenden de qué manera mi propuesta de valor les genera beneficios.",respuesta:null},{id:4,texto:"Cuento con clientes recurrentes que recomiendan mi producto o servicio.",respuesta:null},{id:5,texto:"Mi propuesta de valor está dirigida a más de un segmento de clientes.",respuesta:null}],mensaje:"¡Cada respuesta te acerca más a entender mejor a tus clientes!"},{nombre:"6. Canales de Distribución",descripcion:"Elige los canales adecuados, ya sean digitales o físicos, para hacer llegar tu producto a los clientes correctos.",preguntas:[{id:1,texto:"Mi emprendimiento cuenta con una presencia apropiada en las redes sociales.",respuesta:null},{id:2,texto:"He explorado estrategias de marketing offline que complementan mis esfuerzos en redes sociales.",respuesta:null},{id:3,texto:"Mis clientes potenciales saben dónde adquirir mi producto o servicio.",respuesta:null},{id:4,texto:"Empleo eficientemente mis redes sociales para educar a mis seguidores sobre mi producto o servicio.",respuesta:null},{id:5,texto:"Tengo una estrategia para lograr un crecimiento orgánico de seguidores en mis redes sociales.",respuesta:null}],mensaje:"¡Optimiza tus canales de distribución y sigue adelante hacia el éxito!"},{nombre:"7. Relación con el Cliente",descripcion:"Fomentar relaciones sólidas y basadas en la confianza es esencial para generar lealtad. Escucha a tus clientes, responde rápido a sus necesidades y mantén estrategias que fortalezcan estas relaciones.",preguntas:[{id:1,texto:"Incentivo a mis clientes a que expresen cómo puedo mejorar mi propuesta de valor.",respuesta:null},{id:2,texto:"Empleo la escucha activa en mi relación con mis clientes.",respuesta:null},{id:3,texto:"Atiendo oportunamente las inquietudes y preguntas de mis clientes.",respuesta:null},{id:4,texto:"Hago seguimiento de la satisfacción de mis clientes con mi producto o servicio.",respuesta:null},{id:5,texto:"Tengo estrategias para fidelizar a mis clientes con mi marca.",respuesta:null}],mensaje:"¡Fortalece esos lazos y avanza al siguiente paso para seguir creciendo!"},{nombre:"8. Fuentes de Ingreso",descripcion:"Conocer y diversificar tus fuentes de ingreso asegura estabilidad. Evalúa modelos como suscripciones o ventas directas y asegúrate de que tus precios estén alineados con el valor que ofreces a tus clientes.",preguntas:[{id:1,texto:"Sé establecer el precio óptimo de mi producto o servicio.",respuesta:null},{id:2,texto:"Ya estoy percibiendo ingresos por la venta de mi producto o la prestación de mi servicio.",respuesta:null},{id:3,texto:"He superado el punto de equilibrio con mis ingresos actuales.",respuesta:null},{id:4,texto:"He identificado posibles fuentes de ingresos adicionales que puedan complementar mi negocio actual.",respuesta:null},{id:5,texto:"Mi emprendimiento cuenta con más de una fuente de ingreso.",respuesta:null}],mensaje:"¡Diversifica y maximiza tus ingresos para asegurar la estabilidad de tu negocio!"},{nombre:"9. Actividades Clave",descripcion:"Define las actividades que son fundamentales para entregar tu propuesta de valor. Optimiza procesos y enfócate en lo que realmente mueve tu emprendimiento hacia el éxito.",preguntas:[{id:1,texto:"He identificado las actividades primordiales que deben realizarse para entregar oportunamente mi propuesta de valor.",respuesta:null},{id:2,texto:"Esas actividades se ejecutan oportunamente y de manera eficiente.",respuesta:null},{id:3,texto:"Están claras las responsabilidades de mi equipo respecto a quién debe ejecutar cada actividad clave.",respuesta:null},{id:4,texto:"Mi equipo tiene procedimientos documentados para delegar tareas en caso de imprevistos.",respuesta:null},{id:5,texto:"En mi plan de actividades dejo tiempo para planificar el futuro.",respuesta:null}],mensaje:"¡Optimiza cada acción y avanza con determinación hacia la siguiente etapa!"},{nombre:"10. Recursos Clave",descripcion:"Los recursos clave son la columna vertebral de tu negocio. Asegúrate de tener lo necesario para mantener y escalar tu propuesta de valor.",preguntas:[{id:1,texto:"He identificado cuáles recursos requiero para un desempeño óptimo de mi emprendimiento.",respuesta:null},{id:2,texto:"Cuento con los insumos mínimos necesarios para desarrollar mi proyecto.",respuesta:null},{id:3,texto:"Tengo acceso a la tecnología que me permite fabricar o prestar mi producto o servicio.",respuesta:null},{id:4,texto:"Cuento con el recurso humano idóneo para desarrollar mi emprendimiento.",respuesta:null},{id:5,texto:"Mi equipo y yo tenemos el conocimiento y experiencia necesarios para desarrollar este emprendimiento.",respuesta:null}],mensaje:"¡Tus recursos son tu motor! Asegúrate de gestionarlos bien para avanzar con éxito."},{nombre:"11. Estructura de Costos",descripcion:"Tener una estructura de costos clara y optimizada te permite asegurar la rentabilidad. Evalúa tus gastos fijos y variables y ajusta donde sea necesario.",preguntas:[{id:1,texto:"Conozco la diferencia entre gastos y costos.",respuesta:null},{id:2,texto:"Tengo identificados los elementos de mi estructura de costos.",respuesta:null},{id:3,texto:"Llevo un registro detallado de todos los egresos de mi emprendimiento.",respuesta:null},{id:4,texto:"Mantengo un control y una actualización permanente de mi estructura de costos.",respuesta:null},{id:5,texto:"Todos los integrantes de mi equipo (incluyéndome) perciben honorarios por sus funciones.",respuesta:null}],mensaje:"¡Controla tus costos para asegurar la rentabilidad de tu negocio!"},{nombre:"12. Socios Clave",descripcion:"Las alianzas adecuadas pueden potenciar tus recursos y reducir riesgos. Establece relaciones con socios que aporten valor y te ayuden a alcanzar nuevos mercados.",preguntas:[{id:1,texto:"He establecido buenas relaciones con mis proveedores.",respuesta:null},{id:2,texto:"He identificado personas u organizaciones que puedan ayudarme a que mi emprendimiento funcione.",respuesta:null},{id:3,texto:"Tengo claro lo que requiero de ellos y lo que puedo aportarles.",respuesta:null},{id:4,texto:"He realizado algún acercamiento para establecer una relación ganar-ganar con ellos.",respuesta:null},{id:5,texto:"Esa relación ha rendido los frutos que esperaba.",respuesta:null}],mensaje:"¡Con las relaciones adecuadas, llegarás más lejos! Sigue fortaleciendo esas alianzas."}];e.forEach((function(e,t){e.nombre&&Array.isArray(e.preguntas)||console.error("Categoría ".concat(t+1," está mal definida.")),("string"!=typeof e.descripcion||e.descripcion.split(" ").length>50)&&console.error("Descripción de la categoría ".concat(t+1," está mal definida.")),("string"!=typeof e.mensaje||e.mensaje.split(" ").length>25)&&console.error("Mensaje de la categoría ".concat(t+1," está mal definido.")),e.preguntas.forEach((function(e,a){e.texto&&void 0!==e.respuesta||console.error("Pregunta ".concat(a+1," en la categoría ").concat(t+1," está mal definida."))}))}));var t=0,a=document.getElementById("initial-form"),o=document.getElementById("question-container"),n=document.getElementById("category-title"),r=document.getElementById("questions"),i=document.getElementById("prev-button"),s=document.getElementById("next-button"),l=document.getElementById("submit-button"),c=document.getElementById("report-container"),d=document.getElementById("progress"),u=[],p=[],m=document.getElementById("descripcion_startup"),g=document.getElementById("word-count");function v(t){var a=e[t],o=n.previousElementSibling;o&&"IMG"===o.tagName&&o.remove();var c=document.createElement("img");c.src="categorias_dmn/categoria".concat(t,".svg"),c.alt="Imagen de la categoría ".concat(a.nombre),c.style.width="200px",c.style.height="200px",c.style.display="block",c.style.margin="0 auto",n.parentNode.insertBefore(c,n),n.textContent=a.nombre,r.innerHTML="";var d=document.createElement("p");d.textContent=a.descripcion,d.className="category-description",r.appendChild(d);var u={1:"Totalmente en desacuerdo",2:"En desacuerdo",3:"Algo en desacuerdo",4:"Neutral / Ni de acuerdo ni en desacuerdo",5:"Algo de acuerdo",6:"De acuerdo",7:"Totalmente de acuerdo"};a.preguntas.forEach((function(e,t){var a=document.createElement("div");a.classList.add("question-container");var o=document.createElement("p");o.innerHTML="<strong>".concat(t+1,". ").concat(e.texto,"</strong>"),a.appendChild(o);var n=document.createElement("input");n.type="range",n.name="pregunta".concat(t),n.min=1,n.max=7,n.value=4,n.step=1,n.required=!0;var i=document.createElement("span");i.className="range-value",i.textContent="(".concat(u[n.value],")"),n.addEventListener("input",(function(){i.textContent="(".concat(u[n.value],")")})),a.appendChild(n),a.appendChild(i),r.appendChild(a)})),i.style.display=0===t?"none":"inline-block",s.style.display=t===e.length-1?"none":"inline-block",l.style.display=t===e.length-1?"inline-block":"none"}function f(){for(var e=r.querySelectorAll('input[type="range"]'),a=0;a<e.length;a++)if(""===e[a].value)return alert("Por favor, responde todas las preguntas antes de continuar."),!1;return function(){var e=r.querySelectorAll('input[type="range"]'),a=Array.from(e).map((function(e){return e.value}));u[t]=a}(),!0}function y(){var t=[];return e.forEach((function(e,a){var o=0,n=e.preguntas.length;e.preguntas.forEach((function(e,t){var n=parseInt(u[a][t],10);o+=n}));var r=o/n;t.push(r)})),t}function x(e){document.getElementById("errorModalBody").textContent=e,$("#errorModal").modal("show")}function b(){var a=(t+1)/e.length*100;d.style.width="".concat(a,"%")}function h(){var t=new(0,window.jspdf.jsPDF)("p","pt","letter"),o=new FormData(a),n=o.get("nombre_apellido"),r=o.get("correo"),i=o.get("celular"),s=o.get("pais"),l=o.get("nombre_startup"),c=o.get("descripcion_startup"),d=y().reduce((function(e,t){return e+t}),0),u=7*e.length,p=t.internal.pageSize.getWidth();t.setFontSize(18),t.setFont("helvetica","bold");var m="Diagnóstico de Modelo de Negocio",g=(p-t.getTextWidth(m))/2;t.text(m,g,50),t.setFontSize(12),t.setFont("helvetica","normal"),t.text("Nombre: ".concat(n),40,100),t.text("Correo: ".concat(r),40,120),t.text("Celular: ".concat(i),40,140),t.text("País: ".concat(s),40,160),t.text("Nombre de la Startup: ".concat(l),40,180);var v=p-80,f=t.splitTextToSize(c,v);t.text(f,40,200,{align:"left"});var x=200+t.getTextDimensions(f).h+20+40,b="Puntaje Total del Usuario: ".concat(d.toFixed(2)," / ").concat(u);t.setFontSize(14),t.setFont("helvetica","bold");var h=(p-t.getTextWidth(b))/2;t.text(b,h,x);var q=document.querySelector("canvas");if(q){var C=q.toDataURL("image/png"),z=(p-400)/2;t.addImage(C,"PNG",z,x+40,400,400)}t.addPage();for(var M=0;M<e.length;M+=3)E(t,M,Math.min(M+2,e.length-1),p),M+3<e.length&&t.addPage();!function(e){for(var t=e.internal.getNumberOfPages(),a=e.internal.pageSize.getWidth(),o="Diagnóstico del Modelo de Negocio proporcionado por WayMentor Latam",n="https://waymentorlatam.com/",r=1;r<=t;r++){e.setPage(r),e.setFontSize(10);var i=(a-e.getTextWidth(o))/2;e.text(o,i,770);var s=(a-e.getTextWidth(n))/2;e.textWithLink(n,s,785,{url:n})}}(t),function(e,t,a){var o="localhost"===window.location.hostname||"127.0.0.1"===window.location.hostname?"http://localhost:3000":"https://waymentorlatam.com";fetch("".concat(o,"/send-email"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:a,pdfBase64:e,name:t})}).then((function(e){if(!e.ok)throw new Error("Error en la respuesta del servidor.");return e.json()})).then((function(e){alert("Correo enviado exitosamente.")})).catch((function(e){console.error("Error al enviar el correo:",e),alert("Hubo un error al enviar el correo. Inténtalo nuevamente más tarde.")}))}(t.output("datauristring").split(",")[1],n,r),t.save("informe_tdmn.pdf")}function E(t,a,o,n){for(var r=50,i=function(a){var i=e[a],s="".concat(i.nombre),l=u[a].map((function(t,o){return"".concat(e[a].preguntas[o].texto,": ").concat(t)})).join("\n"),c=r;t.setDrawColor(0,0,0),t.setLineWidth(.5),t.setFontSize(14),t.setFont("helvetica","bold"),t.text(s,50,r+20),r+=40,t.setFontSize(12),t.setFont("helvetica","normal");var d=t.splitTextToSize(l,n-100);t.text(d,50,r),r+=14*d.length+10;var m=p[a];t.setFontSize(12),t.text("Puntaje de la categoría: ".concat(m," / ").concat(7),50,r);var g=(r+=20)-c+10;t.rect(40,c,n-80,g),(r+=20)>700&&a<o&&(t.addPage(),r=50)},s=a;s<=o;s++)i(s)}a.addEventListener("submit",(function(e){e.preventDefault(),validateWordCount()&&(document.querySelector(".form-container").style.display="none",o.style.display="block",b(),v(t))})),i.addEventListener("click",(function(){t>0&&(v(--t),b())})),s.addEventListener("click",(function(){if(f()&&t<e.length-1){var a=e[t].mensaje;document.getElementById("categoryMessageContent").textContent=a,$("#categoryMessageModal").modal("show"),document.getElementById("modalCloseButton").addEventListener("click",(function(){v(++t),b()}),{once:!0})}})),l.addEventListener("click",(function(t){t.preventDefault(),f()&&confirm("¿Estás seguro de que deseas enviar tus respuestas?")&&function(){o.style.display="none",c.style.display="block",c.innerHTML="";var t=document.createElement("h2");t.textContent="Informe de Respuestas",c.appendChild(t);var n=document.createElement("div");n.className="user-data";var r=new FormData(a);n.innerHTML="\n    <p><strong>Nombre:</strong> ".concat(r.get("nombre_apellido"),"</p>\n    <p><strong>Correo Electrónico:</strong> ").concat(r.get("correo"),"</p>\n    <p><strong>Celular:</strong> ").concat(r.get("celular"),"</p> \x3c!-- Añadido el número de celular --\x3e\n    <p><strong>País:</strong> ").concat(r.get("pais"),"</p>\n    <p><strong>Nombre del Emprendimiento:</strong> ").concat(r.get("nombre_startup"),"</p>\n    <p><strong>Descripción del Emprendimiento:</strong> ").concat(r.get("descripcion_startup"),"</p>\n  "),c.appendChild(n),function(t){var a=document.querySelector("canvas.radar-chart");a&&a.remove();var o=document.createElement("canvas");o.className="radar-chart",o.style.width="100%",o.style.height="800px",c.appendChild(o);var n=o.getContext("2d"),r=window.devicePixelRatio||1;o.width=o.offsetWidth*r,o.height=o.offsetHeight*r,n.scale(r,r);var i=new Array(e.length).fill(7);new Chart(n,{type:"radar",data:{labels:e.map((function(e){return e.nombre})),datasets:[{label:"Puntaje del Usuario",data:t,backgroundColor:"rgba(0,51,102,0.6)",borderColor:"#003366",pointBackgroundColor:"#003366",borderWidth:2,pointRadius:3},{label:"Puntaje Máximo",data:i,backgroundColor:"rgba(102,204,255,0.6)",borderColor:"#003366",pointBackgroundColor:"#003366",borderWidth:2,pointRadius:3}]},options:{scales:{r:{angleLines:{display:!1},suggestedMin:0,suggestedMax:7}},elements:{line:{tension:.2}}}})}(p=y());var i=document.createElement("div");i.className="responses-container";var s=0,l=7*e.length;e.forEach((function(e,t){var a=document.createElement("div");a.className="category-div",a.innerHTML="<h3>".concat(e.nombre,"</h3>");var o=0;e.preguntas.forEach((function(e,n){var r=parseInt(u[t][n],10);o+=r,a.innerHTML+="<p>".concat(e.texto,": ").concat(r,"</p>")}));var n=o/e.preguntas.length;s+=n,a.innerHTML+="<p><strong>Puntaje promedio de la categoría:</strong> ".concat(n.toFixed(2)," / ").concat(7,"</p>"),i.appendChild(a)})),c.appendChild(i);var d,m=document.createElement("div");m.className="total-score",m.innerHTML="<p><strong>Sumatoria de Promedios del Usuario:</strong> ".concat(s.toFixed(2)," / ").concat(l,"</p>"),c.appendChild(m),(d=document.createElement("button")).textContent="Generar PDF",d.id="pdf-button",c.appendChild(d),d.addEventListener("click",h)}()})),m.addEventListener("input",(function(){var e=m.value.trim().split(/\s+/).length;g.textContent="".concat(e,"/80 palabras"),e>80?g.classList.add("exceeded"):g.classList.remove("exceeded")})),document.getElementById("startDiagnosisButton").addEventListener("click",(function(){console.log("Botón 1 presionado"),function(){var e=document.querySelector('input[name="nombre_apellido"]').value.trim(),t=document.querySelector('input[name="correo"]').value.trim(),a=document.querySelector('input[name="celular"]').value.trim(),o=document.querySelector('input[name="pais"]').value.trim(),n=document.querySelector('input[name="nombre_startup"]').value.trim(),r=document.querySelector('textarea[name="descripcion_startup"]').value.trim();if(!/^[a-zA-ZáéíóúÁÉÍÓÚñÑ\s]+$/.test(e))return x("El nombre solo puede contener letras."),!1;if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t))return x("Por favor, introduce un correo electrónico válido."),!1;if(!/^\+?[0-9\s-]{7,15}$/.test(a))return x("Por favor, introduce un número de celular válido."),!1;if(!/^[a-zA-Z\s]+$/.test(o))return x("El campo país solo puede contener letras."),!1;if(!/^[a-zA-Z0-9\s]+$/.test(n))return x("El nombre del emprendimiento solo puede contener letras y números."),!1;return""===e||""===t||""===a||""===o||""===n||""===r?(x("Por favor, completa todos los campos obligatorios."),!1):!(r.split(/\s+/).length>80&&(x("La descripción del emprendimiento no debe exceder las 80 palabras."),1))}()&&(console.log("Validación exitosa, mostrando modal"),$("#instructionModal").modal("show"))})),document.getElementById("startDiagnosisButtonModal").addEventListener("click",(function(){$("#instructionModal").modal("hide"),console.log("Botón del modal presionado"),document.querySelector(".form-container").style.display="none",document.getElementById("question-container").style.display="block",b(),v(t)}))})();